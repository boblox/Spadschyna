@inherits UmbracoTemplatePage<GalleryItem>
@{
    Layout = "ContentBase.cshtml";

    var item = Model.Content;
    var title = item.GetTitle();
    var imageIds = item.Images.Split(new[] { "," }, StringSplitOptions.RemoveEmptyEntries).Select(int.Parse);
    var images = Umbraco.TypedMedia(imageIds);
}
@section Body
{
    <div class="gallery-item" id="gallery-item">
        <header>
            <h3>
                @title
            </h3>
        </header>
        <span>@item.Subtitle</span>
        <div class="images">
            <div class="row">
                @foreach (var image in images)
                {
                    var url = image.Url;
                    <div class="col-sm-6">
                        <a href="@url" class="image">
                            <img src="@Html.GetThumbnailUrl(url, 300, 300)" alt=""/>
                        </a>
                    </div>
                }
            </div>
        </div>
    </div>

    <script type="text/javascript">
        $(function () {
            InitGalleryItem();
        });
    </script>
}